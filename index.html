<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CM Card</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ffffff">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="CM Card">

<link rel="apple-touch-icon" sizes="180x180" href="apple-icon.png">
<link rel="icon" type="image/png" href="apple-icon.png">

<style>
:root{
  --bg:#f5f6fa;
  --text:#000;
  --border:#e5e5ea;
  --primary:#5b5bf7;
  --card1:#0f9d58;
  --card2:#0b7a44;
}

body.dark{
  --bg:#0f0f12;
  --text:#fff;
  --border:#333;
}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont;
  background:var(--bg);
  color:var(--text);
  transition:.3s;
}

/* HEADER */
.header{
  padding:25px 20px 10px;
}

.header small{
  opacity:.6;
  font-size:14px;
}

.header h1{
  margin:4px 0;
  font-size:30px;
}

.header p{
  opacity:.6;
  font-size:14px;
}

/* ========================= */
/* MODAL AGREGAR TARJETA PREMIUM */
/* ========================= */

.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  backdrop-filter:blur(18px);
  -webkit-backdrop-filter:blur(18px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.modal.show{
  display:flex;
}

.modal-content{
  width:92%;
  max-width:380px;
  border-radius:32px;
  padding:28px 24px 30px;
  background:rgba(255,255,255,.85);
  backdrop-filter:blur(30px);
  -webkit-backdrop-filter:blur(30px);
  box-shadow:
    0 30px 80px rgba(0,0,0,.25),
    inset 0 1px 1px rgba(255,255,255,.6);
  text-align:center;
  animation:modalPop .25s ease;
}

body.dark .modal-content{
  background:rgba(28,28,30,.85);
}

@keyframes modalPop{
  from{
    transform:scale(.92);
    opacity:0;
  }
  to{
    transform:scale(1);
    opacity:1;
  }
}

.modal-content h2{
  margin:0 0 18px 0;
  font-size:22px;
  font-weight:600;
  text-align:center;
}

.modal-content input,
.modal-content select{
  width:100%;
  padding:14px;
  margin-top:12px;
  border-radius:18px;
  border:1px solid rgba(0,0,0,.08);
  font-size:15px;
  background:rgba(255,255,255,.7);
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
  outline:none;
  transition:.2s;
}

body.dark .modal-content input,
body.dark .modal-content select{
  background:rgba(40,40,45,.7);
  border:1px solid rgba(255,255,255,.06);
}

.modal-content input:focus,
.modal-content select:focus{
  border:1px solid var(--primary);
  box-shadow:0 0 0 3px rgba(91,91,247,.15);
}

.modal-actions{
  display:flex;
  gap:14px;
  margin-top:24px;
}

.modal-actions button{
  flex:1;
  padding:14px;
  border-radius:20px;
  border:none;
  font-size:15px;
  font-weight:500;
  cursor:pointer;
  transition:.2s;
}

.modal-actions button:first-child{
  background:rgba(0,0,0,.06);
}

body.dark .modal-actions button:first-child{
  background:rgba(255,255,255,.08);
}

.modal-actions .primary-btn{
  background:linear-gradient(135deg,#5b5bf7,#7a6df9);
  color:#fff;
  box-shadow:0 10px 25px rgba(91,91,247,.35);
}

.modal-actions button:active{
  transform:scale(.96);
}

/* TAB BAR */
.tabbar{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(255,255,255,.75);
  backdrop-filter:blur(25px);
  border-radius:28px;
  padding:12px 22px;
  display:flex;
  gap:26px;
  box-shadow:0 20px 40px rgba(0,0,0,.18);
}

body.dark .tabbar{
  background:rgba(30,30,35,.7);
}

/* BOTONES TAB */
.tab-icon-btn{
  width:52px;
  height:52px;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}

.tab-icon-btn img{
  width:100%;
  height:100%;
  object-fit:contain;
}

.tab-action{
  width:68px;
  height:68px;
  border-radius:20px;
  margin-top:-12px;
}

/* BOTÃ“N MODO */
.theme-btn{
  position:absolute;
  top:28px;
  right:20px;
  width:64px;
  height:64px;
  border-radius:22px;
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  backdrop-filter:blur(26px);
  -webkit-backdrop-filter:blur(26px);
  box-shadow:
    0 14px 34px rgba(0,0,0,.18),
    inset 0 1px 1px rgba(255,255,255,.45);
  cursor:pointer;
  transition:transform .25s ease;
}

.theme-btn img{
  display:none;
}

.theme-btn:active{
  transform:scale(.92);
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.modal.show{
  display:flex;
}

.modal-content{
  background:#fff;
  width:90%;
  max-width:340px;
  border-radius:22px;
  padding:24px;
  box-shadow:0 20px 50px rgba(0,0,0,.25);
}

body.dark .modal-content{
  background:#1a1a1f;
}

.modal-content input,
.modal-content select{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:14px;
  border:1px solid var(--border);
  font-size:15px;
  background:transparent;
  color:var(--text);
}

.modal-actions{
  display:flex;
  gap:10px;
  margin-top:20px;
}

.modal-actions button{
  flex:1;
  padding:12px;
  border-radius:14px;
  border:none;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="header">
  <small>Bienvenido a</small>
  <h1>CM Card</h1>
  <p>Gestiona tus tarjetas desde la comodidad de CM Card</p>
</div>

<div class="theme-btn" onclick="toggleTheme()"></div>

<div class="main">
  <div class="placeholder">
    <div class="icon">ðŸ’³</div>
    <h3>No tienes tarjetas</h3>
    <p>Agrega tu primera tarjeta magnÃ©tica para comenzar a usarla</p>
    <button class="primary-btn" onclick="openModal()">+ Agregar Tarjeta</button>
  </div>
</div>

<div class="tabbar">
  <div class="tab-icon-btn" onclick="openModal()">
    <img src="agregar.PNG">
  </div>

  <div class="tab-icon-btn tab-action">
    <img src="acciones.PNG">
  </div>

  <div class="tab-icon-btn">
    <img src="ajustes.PNG">
  </div>
</div>

<div id="cardModal" class="modal">
  <div class="modal-content">
    <h2>Agregar tarjeta</h2>

    <input type="text" placeholder="Titular">
    <input id="cardNumber" type="text" placeholder="NÃºmero de tarjeta" maxlength="16">
    <input id="expiry" type="text" placeholder="Vencimiento (MM/YY)" maxlength="5">
    <input id="pin" type="text" placeholder="PIN" maxlength="4">

    <select id="currency">
      <option value="">Seleccionar moneda</option>
      <option>USD</option>
      <option>EUR</option>
      <option>CUP</option>
    </select>

    <input id="phone" type="text" placeholder="NÃºmero de celular">

    <div class="modal-actions">
      <button onclick="closeModal()">Cancelar</button>
      <button class="primary-btn">Guardar</button>
    </div>
  </div>
</div>

<script>
function toggleTheme(){
  document.body.classList.toggle("dark");
  syncThemeIcon();
}

function syncThemeIcon(){
  const btn = document.querySelector(".theme-btn");
  btn.style.backgroundImage =
    document.body.classList.contains("dark")
      ? "url('sun.PNG')"
      : "url('moon.PNG')";
}

document.addEventListener("DOMContentLoaded", () => {
  syncThemeIcon();

  const cardNumber = document.getElementById("cardNumber");
  const expiry = document.getElementById("expiry");
  const pin = document.getElementById("pin");
  const phone = document.getElementById("phone");

  function onlyNumbers(el){
    el.value = el.value.replace(/\D/g,'');
  }

  cardNumber.addEventListener("input", () => {
    onlyNumbers(cardNumber);
    cardNumber.value = cardNumber.value.slice(0,16);
  });

  pin.addEventListener("input", () => {
    onlyNumbers(pin);
    pin.value = pin.value.slice(0,4);
  });

  phone.addEventListener("input", () => {
    onlyNumbers(phone);
  });

  expiry.addEventListener("input", () => {
    let v = expiry.value.replace(/\D/g,'').slice(0,4);
    expiry.value = v.length > 2 ? v.slice(0,2)+"/"+v.slice(2) : v;
  });
});

function openModal(){
  document.getElementById("cardModal").classList.add("show");
}

function closeModal(){
  document.getElementById("cardModal").classList.remove("show");
}
</script>

</body>
</html>